<?xml version="1.0" encoding="UTF-8"?>
<s:staci xmlns:s="urn:nermal/staci"
		xmlns:c="urn:nermal/contact">

	<!--
		Nastavení serveru.
		-->
	<s:globals>
		<!--
			Kde budou umístěny repozitáře.
			-->
		<s:repo-path>Development/lab/stasi</s:repo-path>
		<!--
			Kde budou umístěny pracovní prostory, když jsou potřeba.
			-->
		<s:working-path>Development/lab/working</s:working-path>

		<!--
			Možnost se přihlásit na server.
			-->
		<s:signin>
			<s:user ref="mira" />
			<s:group ref="admins" />
		</s:repo>

	</s:globals>		


	<!--
		Skupina uživatelů
		-->
	<s:group name="admins">
		<s:user ref="taco" />
		<s:user ref="mira" />
	</s:group>

	<s:group name="vyvojari">
		<s:user ref="taco" />
		<s:user ref="mira" />
		<s:user ref="fean" />
	</s:group>


	<!--
		Definice konkrétních uživatelů. Definujeme email a ssh. Klíčů může být 
		vícero, protože pod stejným jménem se může přihlašovat z více míst.
		-->
	<s:user name="taco">
		<c:firstname>Martin</c:firstname>
		<c:lastname>Takáč</c:lastname>
		<c:email>mt@darkmay.cz</c:email>
		<s:ssh type="dsa">ssh-dss AAAAB3NzaC1kc3MAAACBAIXclzahWltq96N5cz3Rftt2ZnsRic9P+LORiZUdr3ed+0EVjgIygr8PRfFjifGi37JPwzt/bLAsXk+Yo5rXFdlQyxFJMJHR7tjgYTyP6EtTuIqo2qgGYyz8f+Vun/AsS2ewbtJfXXDRQ23Wwkvyff6D3E+gK1otjZ2a6o4eKqlpAAAAFQD1r+q3a8h2dCe66YzLE9Dc87/KfwAAAIBHGll0FDBYj4hCYkchhrhBMQ7BoSiCPdEKG2VK9EW4JujOdgGo8PbF8z6wwxU5/MBxlpvlqdYRgkHtY/DMlQDTgdIDQxbI5e0ikIHBwhhqzvtYwhcapLjBIR1t3lVlKOCMgaQRTIOp2ykFyHQNT9cNhtXqsWqzMncHWTMsgbkarQAAAIBu2Nrjs7W/CpT8doR8wzQ7zISdSkwRAH+LqsaGTM2XtYJTymLVFEytiNPE55h+Rexo+OFI792KTuFTkUeKoACIopjgTZtoHqtEJZ5IxVsa2OqAsHbP6Svww+M76LbAvFMquYxyG954XI/D0jtQ66tl5l6yXMPCoEtM6WGJWo5vxA== taco@taco.darkmay.cz</staci:ssh>
		<s:ssh type="dsa">ssh-dss AAAAB3NzaA1kc3MAAACBAIXclzahWltq96N5cz3Rftt2ZnsRic9P+LORiZUdr3ed+0EVjgIygr8PRfFjifGi37JPwzt/bLAsXk+Yo5rXFdlQyxFJMJHR7tjgYTyP6EtTuIqo2qgGYyz8f+Vun/AsS2ewbtJfXXDRQ23Wwkvyff6D3E+gK1otjZ2a6o4eKqlpAAAAFQD1r+q3a8h2dCe66YzLE9Dc87/KfwAAAIBHGll0FDBYj4hCYkchhrhBMQ7BoSiCPdEKG2VK9EW4JujOdgGo8PbF8z6wwxU5/MBxlpvlqdYRgkHtY/DMlQDTgdIDQxbI5e0ikIHBwhhqzvtYwhcapLjBIR1t3lVlKOCMgaQRTIOp2ykFyHQNT9cNhtXqsWqzMncHWTMsgbkarQAAAIBu2Nrjs7W/CpT8doR8wzQ7zISdSkwRAH+LqsaGTM2XtYJTymLVFEytiNPE55h+Rexo+OFI792KTuFTkUeKoACIopjgTZtoHqtEJZ5IxVsa2OqAsHbP6Svww+M76LbAvFMquYxyG954XI/D0jtQ66tl5l6yXMPCoEtM6WGJWo5vxA== taco@home.localhost</staci:ssh>
	</s:user>

	<s:user name="mira">
		<c:firstname>Miroslav</c:firstname>
		<c:lastname>Fidranský</c:lastname>
		<c:email>mf@darkmay.cz</c:email>
		<s:ssh type="dsa">ssh-dss AAAAB3NzaC1kc3MAAACBAIXclzahWltq96N5cz3Rftt2ZnsRic9P+LORiZUdr3ed+0EVjgIygr8PRfFjifGi37JPwzt/bLAsXk+Yo5rXFdlQyxFJMJHR7tjgYTyP6EtTuIqo2qgGYyz8f+Vun/AsS2ewbtJfXXDRQ23Wwkvyff6D3E+gK1otjZ2a6o4eKqlpAAAAFQD1r+q3a8h2dCe66YzLE9Dc87/KfwAAAIBHGll0FDBYj4hCYkchhrhBMQ7BoSiCPdEKG2VK9EW4JujOdgGo8PbF8z6wwxU5/MBxlpvlqdYRgkHtY/DMlQDTgdIDQxbI5e0ikIHBwhhqzvtYwhcapLjBIR1t3lVlKOCMgaQRTIOp2ykFyHQNT9cNhtXqsWqzMncHWTMsgbkarQAAAIBu2Nrjs7W/CpT8doR8wzQ7zISdSkwRAH+LqsaGTM2XtYJTymLVFEytiNPE55h+Rexo+OFI792KTuFTkUeKoACIopjgTZtoHqtEJZ5IxVsa2OqAsHbP6Svww+M76LbAvFMquYxyG954XI/D0jtQ66tl5l6yXMPCoEtM6WGJWo5vxA== taco@taco.darkmay.cz</staci:ssh>
	</s:user>

	<s:user name="fean">
		<c:firstname>Andreaw</c:firstname>
		<c:lastname>Fean</c:lastname>
		<c:email>mt@darkmay.cz</c:email>
		<s:ssh type="dsa">ssh-dss AAAAB3NzaC1kc3MAAACBAIXclzahWltq96N5cz3Rftt2ZnsRic9P+LORiZUdr3ed+0EVjgIygr8PRfFjifGi37JPwzt/bLAsXk+Yo5rXFdlQyxFJMJHR7tjgYTyP6EtTuIqo2qgGYyz8f+Vun/AsS2ewbtJfXXDRQ23Wwkvyff6D3E+gK1otjZ2a6o4eKqlpAAAAFQD1r+q3a8h2dCe66YzLE9Dc87/KfwAAAIBHGll0FDBYj4hCYkchhrhBMQ7BoSiCPdEKG2VK9EW4JujOdgGo8PbF8z6wwxU5/MBxlpvlqdYRgkHtY/DMlQDTgdIDQxbI5e0ikIHBwhhqzvtYwhcapLjBIR1t3lVlKOCMgaQRTIOp2ykFyHQNT9cNhtXqsWqzMncHWTMsgbkarQAAAIBu2Nrjs7W/CpT8doR8wzQ7zISdSkwRAH+LqsaGTM2XtYJTymLVFEytiNPE55h+Rexo+OFI792KTuFTkUeKoACIopjgTZtoHqtEJZ5IxVsa2OqAsHbP6Svww+M76LbAvFMquYxyG954XI/D0jtQ66tl5l6yXMPCoEtM6WGJWo5vxA== taco@taco.darkmay.cz</staci:ssh>
	</s:user>



	<!--
		Definice repositářů, jejiích umístění, jejich speciální konfigurace.
		-->
	<s:repo name="staci-admin" type="git">
		<s:repo-path>repository/stasi-admin</s:repo-path>
		<s:working-path>.config/stasi</s:working-path>
	</s:repo>
	<s:repo name="staci.git" type="git">
		<s:working-path>Development/lab/working</s:working-path>
	</s:repo>
	<s:repo name="testing.git" type="git" />
	<s:repo name="projekt51" type="git" />
	<s:repo name="zizkov.hg" type="mercurial" />
	<s:repo name="koralky.hg" type="mercurial" />


	<!--
		Definice kdo může k jakému repozitáři s jakými právy.
		-->
	<s:acl>
		<!--
			Repozitář, který spravuje přístupy.
			-->
		<s:repository ref="staci-admin" />
		<s:access permission="read,write,remove">
			<s:group ref="admins" />
		</s:access>	
	</s:acl>


	<!--
	repo testing
		RW+     =   @all
		-->
	<s:acl>
		<s:repository ref="testing.git" />
		<s:access permission="init,read,write,remove">
			<s:group ref="all" />
		</s:access>	
	</s:acl>


	<!--
	repo projekt51 zizkov
		RW+ = michal taco
		RW  = @vyvojari
		R   = @testeri
		-->
	<s:acl>
		<s:repository ref="projekt51.git" />
		<s:repository ref="zizkov.hg" />
		<s:access permission="init,read,write,remove">
			<s:user ref="michal" />
			<s:user ref="taco" />
		</s:access>	
		<s:access permission="read,write">
			<s:group ref="vyvojari" />
		</s:access>	
		<s:access permission="read">
			<s:group ref="testeri" />
		</s:access>	
	</s:acl>


	<!--
	repo koralky
		RW+     =   taco
		-->
	<s:acl>
		<s:repository ref="koralky.hg" />
		<s:access permission="init,read,write,remove">
			<s:user ref="taco" />
		</s:access>	
	</s:acl>
    

	<s:acl>
		<s:repository ref="staci.git" />
		<s:access permission="init,read,write,remove">
			<s:user ref="taco" />
			<s:user ref="vojta" />
		</s:access>	
	</s:acl>


</s:staci>
